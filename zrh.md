<link rel="stylesheet" type="text/css" href="http://zlyd.iccnconn.com/markdowncss/stylelib/typora-gitbook-theme-1.11/src/gitbook-azure.css">

# 用例

**个人博客网站的主要操作者及用例**

|主要操作者|用例|
|---|---|
|游客|1.浏览文章<br>2.评论文章<br>3.下载附件|
|站主|1.登录<br>2.注销<br>3.发表文章<br>4.修改文章<br>5.删除文章<br>6.上传附件<br>7.删除附件|

-----------
## 用例图

![](./src/用例图.svg)

---------
## 具体用例

1. ###  发表文章

    |用例名称|发表文章|
    |---|---|
    |参与者|站主|
    |前置条件|站主必须登录|
    |后置条件|文章发表成功|
    |主事件流|1.站主点击发表文章按钮<br>2.站主填写文章信息<br>3.系统保存文章信息<br>4.系统提示发表成功<br>|
    |备选事件流|3a.系统检测到文章信息有误<br>3a1.系统提示文章信息有误<br>3a2.系统返回文章填写页面<br>3a3.站主修改文章信息<br>3a4.系统保存文章信息<br>3a5.系统提示发表成功<br>|

2. ### 上传附件

    |用例名称|上传附件|
    |---|---|
    |参与者|站主|
    |前置条件|站主必须登录|
    |后置条件|附件上传成功|
    |主事件流|1.站主点击上传附件按钮<br>2.站主选择附件<br>3.系统保存附件信息<br>4.系统提示上传成功<br>|
    |备选事件流|3a.系统检测到附件信息有误<br>3a1.系统提示附件信息有误<br>3a2.系统返回附件填写页面<br>3a3.站主修改附件信息<br>3a4.系统保存附件信息<br>3a5.系统提示上传成功<br>|

3. ### 发表评论

    |用例名称|发表评论|
    |---|---|
    |参与者|游客|
    |前置条件|无|
    |后置条件|评论发表成功|
    |主事件流|1.游客点击发表评论按钮<br>2.游客填写评论信息<br>3.系统保存评论信息<br>4.系统提示发表成功<br>|
    |备选事件流|3a.系统检测到评论信息有误<br>3a1.系统提示评论信息有误<br>3a2.系统返回评论填写页面<br>3a3.游客修改评论信息<br>3a4.系统保存评论信息<br>3a5.系统提示发表成功<br>|


4. ### 发表留言

    |用例名称|发表留言|
    |---|---|
    |参与者|游客|
    |前置条件|无|
    |后置条件|留言发表成功|
    |主事件流|1.游客点击发表留言按钮<br>2.游客填写留言信息<br>3.系统保存留言信息<br>4.系统提示发表成功<br>|
    |备选事件流|3a.系统检测到留言信息有误<br>3a1.系统提示留言信息有误<br>3a2.系统返回留言填写页面<br>3a3.游客修改留言信息<br>3a4.系统保存留言信息<br>3a5.系统提示发表成功<br>|

5. ### 登录

    |用例名称|登录|
    |---|---|
    |参与者|站主|
    |前置条件|无|
    |后置条件|登录成功|
    |主事件流|1.站主点击登录按钮<br>2.站主填写登录信息<br>3.系统保存登录信息<br>4.系统提示登录成功<br>|
    |备选事件流|3a.系统检测到登录信息有误<br>3a1.系统提示登录信息有误<br>3a2.系统返回登录填写页面<br>3a3.站主修改登录信息<br>3a4.系统保存登录信息<br>3a5.系统提示登录成功<br>|

6. ### 注销

    |用例名称|注销|
    |---|---|
    |参与者|站主|
    |前置条件|站主必须登录|
    |后置条件|注销成功|
    |主事件流|1.站主点击注销按钮<br>2.系统提示注销成功<br>|

7. ### 修改文章

    |用例名称|修改文章|
    |---|---|
    |参与者|站主|
    |前置条件|站主必须登录|
    |后置条件|文章修改成功|
    |主事件流|1.站主点击修改文章按钮<br>2.站主修改文章信息<br>3.系统保存文章信息<br>4.系统提示修改成功<br>|
    |备选事件流|3a.系统检测到文章信息有误<br>3a1.系统提示文章信息有误<br>3a2.系统返回文章填写页面<br>3a3.站主修改文章信息<br>3a4.系统保存文章信息<br>3a5.系统提示修改成功<br>|

8. ### 删除文章

    |用例名称|删除文章|
    |---|---|
    |参与者|站主|
    |前置条件|站主必须登录|
    |后置条件|文章删除成功|
    |主事件流|1.站主点击删除文章按钮<br>2.系统提示删除成功<br>|








------

# 软件需求规范

1. ## 介绍
    
    1. ### 目的



        基于个人博客的特点，本系统实现个人博客的主要功能，包括博客系统的站主登录/退出，博客站主并发表文章、图片等，游客发表评论、分页浏览文章和下载文章附件等。博客系统主要区分了两类用户，分别为博客站主和普通游客。网站登录仅限于博客站主，博客站主可以登陆写下自己的文章与上传附件，登陆即拥有网站管理的权限，未登录时均以游客身份访问。游客主要的功能是分页、分类、分标签阅读博客站主文章和浏览图片，发表评论和留言。


    2. ### 项目范围

        个人博客将提供一个网站给站主写博客，为游客提供阅读，下载附件，评论的功能
-------------------
2. ## 总述

    1. ### 产品视角

        个人博客

    2. ### 用户类别及特征

        | 用户类别 | 描述 |
        |   ---   | ---  |
        | 游客 | 查看，转发，评论站主发布的文章 |
        | 站主 | 添加，修改，删除文章，维护网站 |

    3. ### 操作环境

        正常浏览器

    4. ### 设计与实现约束

        - 使用html，css，js语言做前端，加上bootstrap框架
        - 使用java语言做后端
        - 使用mysql数据库

    5. ### 假设与依赖

        - 站主的服务器有充足的容量存储数据
        - 站主的服务器运行正常
-------------------
3. ## 系统特性

    1. ### 游客浏览，评价  
        - 游客浏览会产生浏览记录，可以添加到数据库中

        - 游客评价会添加到数据库中，游客可以使用临时名进行评价，并记录评价时间来排序

    2. ### 站主文章管理，发表、修改、上传

        - 站主使用Markdown格式书写内容，保存在数据库中，网页访问时通过js获取api，并转换成html格式显示

        - 可以对已有的内容进行修改

        - 文章对图片和附件进行直接的引用，即图片和附件信息不通过数据库存储


    3. ### 系统设计方法

        - 系统为博客网站站主提供专门的登录界面，不为浏览网站的用户提供登陆界面，亦不包括登陆后的管理界面

        - 浏览用户仅有浏览网页、下载指定附件的功能，除评论功能外，不涉及对博客网站系统后台数据库表的修改

        - 博客站主需输入密码方可登陆，登陆后可进行各种管理操作。博主的密码通过rsa256算法加密保存在服务器端，加强安全性

-------------------

4. ## 数据需求

    1. ### ER图

        ![](./src/er.jpg)

    2. ### 数据流图

        ![](./src/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE.jpg)

    
    3. ### 数据库表
    
        *仅针对首次迭代进行数据库建模*

        1. **站长信息表**
        
            |属性名|数据类型|约束条件|注释|
            |---|---|---|---|
            |id|int|主键|站长id|
            |name|varchar(20)|唯一|站长名|
            |password|password||站长密码|
            |email|varchar(30)||站长邮箱|
            |img|图片信息表.id|外键|站长头像|
            |description|varchar(100)||站长描述|
            
            

        2. **文章信息表**

            |属性名|数据类型|约束条件|注释|
            |---|---|---|---|
            |id|int|主键|文章id|
            |title|varchar(100)||文章标题|
            |content|longtext||文章内容|
            |time|datetime||文章发表时间|
            |author|varchar(20)||文章作者|
            |type|varchar(10)||文章类型|
            |tag|varchar(20)||文章标签|
            
            
        3. **评论信息表**
        
            |属性名|数据类型|约束条件|注释|
            |---|---|---|---|
            |id|int|主键|评论id|
            |name|varchar(20)||评论者名|
            |content|varchar(100)||评论内容|
            |time|datetime||评论时间|
            |article|文章信息表.id|外键|评论文章|

            
        4. **附件信息表**
        
            |属性名|数据类型|约束条件|注释|
            |---|---|---|---|
            |id|int|主键|附件id|
            |name|varchar(20)||附件名|
            |content|longblob||附件内容|
            |time|datetime||附件上传时间|
        

-------------------
5. ## 外部接口需求
    
    1. ### 用户界面

        - 网站首页
        - 文章列表页
        - 文章详情页
        - 图片列表页
        - 图片详情页
        - 附件列表页
        - 附件详情页
        - 留言页
        - 评论页
        - 登陆页
        - 注册页
        - 管理页

    2. ### 软件接口

        - 上传附件
        - 下载附件
        - 上传图片
        - 下载图片
        - 上传文章
        - 修改文章
        - 删除文章
        - 添加评论
        - 删除评论
        - 添加留言
        - 删除留言
        - 登陆
        - 注册
        - 修改密码
        - 修改信息
        - 退出

-------------------

6. ## 质量属性
    
    1. ### 易用性要求
    
        - 罗列博客的所有内容，可以按照文章属性排序
        - 提供搜索功能

    2. ### 性能要求

        - 尽可能快的响应

    3. ### 防护要求

        - 保护站主密码

    


